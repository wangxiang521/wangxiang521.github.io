---
layout:     post
title:      前端性能优化
subtitle:   优化
date:       2019-2-25
author:     WX
header-img: img/react.jpg
catalog: true
tags:
    - 前端
---
# 前言
从我是一个切图仔开始，就有人问这样的问题。几乎是每次面试都会问。我相信每个面试者都会遇到这样的问题。但是你真的理解了嘛？
曾经我也觉的就那几样，后来才发现自己的无知。现在浅显的谈下自己最近的理解

# 正文
 
与这个问题对应的一个问题就是 从用户输入url到页面展示发生了什么？ 其实这两个问题可以归为一个，只有知道了发生了什么才可以在具体的阶段
提出优化的策略，达到最终的目的，下面我们来具体的说下究竟发生了什么，以及对应的优化策略
首先大致要经历如下过程
   <ul>
        <li>浏览器到服务器</li>
        <li>服务器处理请求</li>
        <li>服务器返回HTTP响应</li>
        <li>浏览器显示页面信息</li>
   </ul>

##浏览器到服务器
    1.当用户输入url后，浏览器会对url进行处理，比如Unicode编码，若为关键字会进行默认搜索引擎的搜索
    2.浏览器处理完URL后，将获取要访问的URL所在服务器的地址。这时需要进行DNS查询。查询有3种，依次进行
        2.1查询本地DNS缓存
        2.2查看本地host表
        2.3查询DNS服务器
    在DNS服务器上进行查询时，首先查询本地DNS服务器。若本地DNS 
    服务器上有域名的缓存，则本地DNS服务器将对应IP发送给查询方。若本地DNS服务器上没有域名的缓存，
    则向根域名服务器发起查询(递归)。根域名服务器收到请求后，会返回下一级域名信息的DNS服务器地址。
    本地DNS服务器收到地址后继续进行查询(迭代)，最后获取到目标域名的IP并发送给查询方。 
    3.当浏览器获取到url对应的IP后，就要通过HTTP协议获取端口，然后进行浏览器与服务器之间的连接，
    4.这里就是建立与服务器之间的TCP链接了即三次握手

##服务器开始处理请求
    1.服务器可能会进行http重定向，DNS负载均衡，nginx反向代理等
    2.服务器收到请求后将请求解析为：请求方法、域名、请求路径
      服务器找到该域名对应的虚拟主机，并验证该虚拟主机是否可以使用该请求方法
      服务器获取请求路径对应的内容，并根据内容使用指定的程序来处理(e.g.使用不同的程序解析PHP、JSP等文件)，将输出的结果发送给浏览器

##浏览器渲染页面信息
    
    解析HTML建立dom树
    解析css构建render树（将CSS代码解析成树形的数据结构，然后结合DOM合并成render树）
    布局render树（确定每个节点在屏幕上的位置）
    绘制render树（遍历render树，并使用UI后端层绘制每个节点）

以上就是大致的过程。对应的我们可以做出相应的优化，详情可以参考   <a href='https://blog.csdn.net/camel20/article/details/7283893'>雅虎34条军规</a>

